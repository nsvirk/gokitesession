

@user_id = {{ $processEnv %KITE_USER_ID }}
@password = {{ $processEnv %KITE_PASSWORD }}

### -------------------------------------
### LOGIN
### -------------------------------------
# @name login

POST https://kite.zerodha.com/api/login HTTP/1.1
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36

&user_id={{user_id}}
&password={{password}}

### -------------------------------------
### TWOFA
### -------------------------------------
# @name twofa
# @prompt twofa_value Get from Authenticator app

POST https://kite.zerodha.com/api/twofa HTTP/1.1
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36

&user_id={{ loginUserId }}
&request_id={{ loginRequestId }}
&twofa_type={{ loginTwofaType }}
&twofa_value={{ twofa_value }}

### -------------------------------------

@loginUserId = {{login.response.body.data.user_id}}
@loginRequestId = {{login.response.body.data.request_id}}
@loginTwofaType = {{login.response.body.data.twofa_type}}
